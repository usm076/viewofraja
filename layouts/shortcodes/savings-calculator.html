<div class="calculator-container savings-calculator" itemscope itemtype="https://schema.org/WebApplication" style="background: var(--bg-secondary, #f8f9fa); padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid var(--border-color, #e9ecef); color: var(--text-primary, #333);">
  <h3 style="margin-top: 0; color: var(--text-primary, #2c3e50);" itemprop="name">ðŸ“ˆ Savings & Retirement Calculator</h3>
  <meta itemprop="description" content="Calculate compound interest growth, retirement savings projections, and investment returns with monthly contributions">
  <meta itemprop="applicationCategory" content="FinanceApplication">
  
  <div class="calculator-inputs" style="display: grid; gap: 15px; margin-bottom: 20px;">
    <div>
      <label for="initialAmount" style="display: block; font-weight: bold; margin-bottom: 5px;">Initial Investment ($)</label>
      <input type="number" id="initialAmount" placeholder="10000" style="width: 100%; padding: 10px; border: 1px solid var(--border-color, #ddd); border-radius: 4px; background: var(--bg-primary, white); color: var(--text-primary, #333);">
    </div>
    
    <div>
      <label for="monthlyContribution" style="display: block; font-weight: bold; margin-bottom: 5px;">Monthly Contribution ($)</label>
      <input type="number" id="monthlyContribution" placeholder="500" style="width: 100%; padding: 10px; border: 1px solid var(--border-color, #ddd); border-radius: 4px; background: var(--bg-primary, white); color: var(--text-primary, #333);">
    </div>
    
    <div>
      <label for="annualReturn" style="display: block; font-weight: bold; margin-bottom: 5px;">Expected Annual Return (%)</label>
      <input type="number" id="annualReturn" placeholder="7" step="0.1" style="width: 100%; padding: 10px; border: 1px solid var(--border-color, #ddd); border-radius: 4px; background: var(--bg-primary, white); color: var(--text-primary, #333);">
    </div>
    
    <div>
      <label for="timeHorizon" style="display: block; font-weight: bold; margin-bottom: 5px;">Time Horizon (Years)</label>
      <input type="number" id="timeHorizon" placeholder="30" style="width: 100%; padding: 10px; border: 1px solid var(--border-color, #ddd); border-radius: 4px; background: var(--bg-primary, white); color: var(--text-primary, #333);">
    </div>
    
    <button onclick="calculateSavings()" style="background: #27ae60; color: white; padding: 12px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">Calculate Growth</button>
  </div>
  
  <div id="savingsResults" style="display: none;">
    <div style="background: var(--bg-primary, white); padding: 15px; border-radius: 6px; border-left: 4px solid #27ae60;">
      <h4 style="margin-top: 0; color: #27ae60;">ðŸŽ¯ Projection Results</h4>
      <div style="display: grid; gap: 10px; color: var(--text-primary, #333);">
        <div><strong style="color: var(--text-primary, #333);">Final Balance:</strong> <span id="finalBalance" style="color: #27ae60; font-size: 1.3em;"></span></div>
        <div><strong style="color: var(--text-primary, #333);">Total Contributions:</strong> <span id="totalContributions" style="color: var(--text-primary, #333);"></span></div>
        <div><strong style="color: var(--text-primary, #333);">Investment Gains:</strong> <span id="investmentGains" style="color: var(--text-primary, #333);"></span></div>
        <div><strong style="color: var(--text-primary, #333);">Monthly Income at 4% Withdrawal:</strong> <span id="monthlyIncome" style="color: var(--text-primary, #333);"></span></div>
      </div>
    </div>
  </div>
</div>

<script>
function calculateSavings() {
  const initial = parseFloat(document.getElementById('initialAmount').value) || 0;
  const monthly = parseFloat(document.getElementById('monthlyContribution').value) || 0;
  const annualRate = parseFloat(document.getElementById('annualReturn').value) || 0;
  const years = parseFloat(document.getElementById('timeHorizon').value);
  
  if (!years || annualRate < 0) {
    alert('Please enter valid values');
    return;
  }
  
  const monthlyRate = annualRate / 100 / 12;
  const months = years * 12;
  
  // Future value of initial investment
  const futureValueInitial = initial * Math.pow(1 + monthlyRate, months);
  
  // Future value of monthly contributions (annuity)
  let futureValueContributions = 0;
  if (monthly > 0 && monthlyRate > 0) {
    futureValueContributions = monthly * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate);
  } else if (monthly > 0) {
    futureValueContributions = monthly * months;
  }
  
  const finalBalance = futureValueInitial + futureValueContributions;
  const totalContributions = initial + (monthly * months);
  const investmentGains = finalBalance - totalContributions;
  const monthlyIncome = (finalBalance * 0.04) / 12; // 4% withdrawal rule
  
  // Display results
  document.getElementById('finalBalance').textContent = '$' + finalBalance.toLocaleString('en-US', {maximumFractionDigits: 0});
  document.getElementById('totalContributions').textContent = '$' + totalContributions.toLocaleString('en-US', {maximumFractionDigits: 0});
  document.getElementById('investmentGains').textContent = '$' + investmentGains.toLocaleString('en-US', {maximumFractionDigits: 0});
  document.getElementById('monthlyIncome').textContent = '$' + monthlyIncome.toLocaleString('en-US', {maximumFractionDigits: 0});
  
  document.getElementById('savingsResults').style.display = 'block';
}
</script>